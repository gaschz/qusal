# sys-pass

Split-brained Pass with QT-Pass environment in Qubes OS.

## Table of Contents

*   [Description](#description)
*   [Installation](#installation)
*   [Usage](#usage)
*   [ToDo](#todo)
*   [Credits](#credits)

## Description

An offline qube will be created and named "sys-pass", it will have the  QT-Pass
manager app for high entropy passwords using the famous UNIX pass along with PGP
and SSH client for creating private keys. Additionally clients can install the
browser plugin for pass and realized a split-brained pass environment.

## Installation

*   Top:

```sh
sudo qubesctl top.enable sys-pass
sudo qubesctl --targets=tpl-sys-pass state.apply
sudo qubesctl top.disable sys-pass
sudo qubesctl state.apply sys-pass.appmenus
```

*   State:

<!-- pkg:begin:post-install -->

```sh
sudo qubesctl state.apply sys-pass.create
sudo qubesctl --skip-dom0 --targets=tpl-sys-pass state.apply sys-pass.install
sudo qubesctl --skip-dom0 --targets=sys-pass state.apply sys-pass.configure
sudo qubesctl --skip-dom0 --targets=APP-VM state.apply sys-pass.configure-browser
sudo qubesctl state.apply sys-pass.appmenus
```

<!-- pkg:end:post-install -->

## Usage:

The intended usage is to hold passwords and keys. You should copy the keys
generated by the vault to the pass qube, which can be a split agent
server for pass as well as the QT-Pass app. A compromise of any client qube can
escalate into a compromise of the qubes it can run RPC services and holding passwords.
Therefore a separate sys-pass isolating the passwords is appropriate
according to your threat model.

PGP key management is in responsibility of the user.

## ToDo:

A future version will fetch PGP keys fpr the pass from sys-pgp in a split-brained manner.
The binary for pass is fetched/updated via a service while not exposing the qube to the net.

## Credits:

*   [Rudd-O](https://github.com/rudd-o/qubes-pass)
*   [PassFF](https://codeberg.org/PassFF/passff-host)
